<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>üì¶ Voorraadbeheer</title>
  <link rel="stylesheet" href="/css/app.css" />
  <link rel="stylesheet" href="/css/nav.css" />
</head>
<body class="bg-train">
  <header class="site-nav" role="banner">
    <button class="nav-toggle" aria-controls="nav-drawer" aria-expanded="false" aria-label="Menu openen">‚ò∞</button>
    <nav id="nav-drawer" class="nav-drawer" role="navigation" aria-label="Hoofdnavigatie">
      <a href="/index.html">Home</a>
      <a href="/admin.html">Admin</a>
      <a href="/finance.html">Finance</a>
      <a href="/stock.html" aria-current="page">Voorraad</a>
      <a href="/history.html">History</a>
      <a href="/new-user.html">Nieuwe gebruiker</a>
    </nav>
  </header>

  <div class="content-wrapper">
    <h1>üì¶ Voorraadbeheer</h1>

    <!-- Nieuwe Batch Toevoegen (V1-stijl & -werking) -->
    <section class="section">
      <h2>‚ûï Nieuwe Batch Toevoegen</h2>
      <div id="batchForm"></div>
      <button id="addRowBtn">‚ûï Extra productregel</button>
      <br><br>
      <label>‚ôªÔ∏è Verdeel Statiegeldbuffer:</label>
      <select id="bufferMode">
        <option value="none">Niet gebruiken</option>
        <option value="partial">Deels gebruiken</option>
        <option value="full">Volledig verdelen</option>
      </select>
      <p><strong>Ingeleverde statiegeld-buffer:</strong> <span id="bufferAmount">‚Ç¨0,00</span></p>
      <button id="addBatchBtn">üì¶ Voeg Batch Toe</button>
      <span class="muted">Prijs per stuk = (inkoopprijs √∑ aantal) + statiegeld ‚àí toegepaste bufferkorting per stuk.</span>
    </section>

    <!-- Huidige Voorraad (V1-tabel) -->
    <section class="section">
      <h2>üìä Huidige Voorraad</h2>
      <table class="table">
        <thead>
          <tr>
            <th>Product</th>
            <th>Prijs per stuk (‚Ç¨)</th>
            <th>Batch Aantal</th>
            <th>Totaal Voorraad</th>
            <th>Statiegeld</th>
            <th>Datum</th>
            <th>Korting via buffer</th>
            <th>Aanpassen</th>
          </tr>
        </thead>
        <tbody id="stockTable">
          <tr><td colspan="8">Laden‚Ä¶</td></tr>
        </tbody>
      </table>
    </section>
  </div>

  <script type="module" src="/js/core.js"></script>
  <script type="module" src="/js/supabase.client.js"></script>
  <script type="module" src="/js/pages/stock.page.js"></script>
  <script type="module" src="/js/nav.js"></script>

  <!-- V1-look voor inputs/selects -->
  <style>
    .muted{opacity:.85;font-size:14px;display:block;margin-top:4px;}
    #batchForm .product-row{margin-bottom:6px;}
    #batchForm select,#batchForm input{
      padding:10px;margin:8px;width:220px;border-radius:8px;border:1px solid #4CAF50;
      background:#222;color:#fff;text-align:center;font-size:16px;
    }
    #addRowBtn,#addBatchBtn{
      padding:12px 20px;margin:10px;font-size:16px;cursor:pointer;border-radius:10px;border:none;
      background-color:#1e5627;color:#fff;transition:transform .2s,background .2s;
    }
    #addRowBtn:hover,#addBatchBtn:hover{background-color:#2f7f3d;transform:scale(1.04);}
  </style>
</body>
</html>
