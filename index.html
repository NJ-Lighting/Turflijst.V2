<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>🍺 Turflijst</title>
  <!-- Laad CSS vanaf je eigen deploy (Vercel) i.p.v. raw GH, anders wordt het geblokkeerd -->
  <link rel="stylesheet" href="/css/app.css" />
</head>
<body>
  <div class="content-wrapper">
    <div class="admin-link">
      <button class="button" onclick="(function(){
        const pin = prompt('Voer admin PIN in:');
        if (pin === '1915') location.href = '/admin.html';
        else alert('❌ Onjuiste PIN');
      })()">Naar Admin</button>
    </div>

    <h1>🍺 Turflijst</h1>
    <p>Kies een gebruiker en klik op een drankje om te turven</p>

    <div class="dropdown">
      <label for="user">Gebruiker:</label>
      <select id="user"></select>
    </div>

    <div class="flex">
      <h2>Beschikbare Drankjes</h2>
      <button class="button" onclick="undoLastDrink()">⏪ Undo laatste drankje</button>
    </div>

    <div id="product-buttons" class="grid"></div>

    <h3 class="section-title">Totaal te betalen</h3>
    <table class="table">
      <thead><tr><th>Gebruiker</th><th class="right">Bedrag</th></tr></thead>
      <tbody id="totalToPayList"></tbody>
    </table>

    <h3 class="section-title">Drankjes per gebruiker</h3>
    <table class="table">
      <thead><tr><th>Gebruiker</th><th class="right">Aantal</th></tr></thead>
      <tbody id="userDrinkTotalsTable"></tbody>
    </table>
  </div>

  <!-- Modules -->
  <script type="module" src="/js/core.js"></script>
  <script type="module" src="/js/supabase.client.js"></script>
  <script type="module" src="/js/api/stock.js"></script>
  <script type="module" src="/js/api/metrics.js"></script>
  <script type="module" src="/js/pages/index.page.js"></script>
</body>
</html>
